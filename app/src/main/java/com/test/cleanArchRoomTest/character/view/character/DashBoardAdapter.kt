package com.test.cleanArchRoomTest.character.view.character

import android.view.LayoutInflater
import android.view.ViewGroup
import androidx.databinding.DataBindingUtil
import androidx.recyclerview.widget.RecyclerView
import com.test.cleanArchRoomTest.R
import com.test.cleanArchRoomTest.character.domain.model.CharactersData
import com.test.cleanArchRoomTest.databinding.CharactersItemListBinding
import com.test.cleanArchRoomTest.utils.binding.LoadImageUrl

class DashBoardAdapter(
    private var onCharacterClicked: CharacterClicked
) : RecyclerView.Adapter<DashBoardAdapter.DashBoardViewHolder>() {

    private var items: MutableList<CharactersData> = mutableListOf()


    private var layoutInflater: LayoutInflater? = null
    override fun onCreateViewHolder(
        parent: ViewGroup,
        viewType: Int
    ): DashBoardViewHolder {
        if (layoutInflater == null) {
            layoutInflater = LayoutInflater.from(parent.context)
        }
        val binding: CharactersItemListBinding = DataBindingUtil.inflate(
            layoutInflater!!,
            R.layout.characters_item_list,
            parent,
            false
        )
        return DashBoardViewHolder(binding, onCharacterClicked)


    }

    override fun onBindViewHolder(holder: DashBoardViewHolder, position: Int) {
        holder.setData(items[position])
    }

    fun fillData(items: MutableList<CharactersData>) {
        this.items = items
        notifyDataSetChanged()
    }

    override fun getItemCount(): Int = items.size

    class DashBoardViewHolder(
        var binding: CharactersItemListBinding,
        private var onCharacterClicked: CharacterClicked
    ) :
        RecyclerView.ViewHolder(binding.root) {
        fun setData(data: CharactersData) {
            binding.charactersData = data
            binding.characterImage.LoadImageUrl(data.image ?: "data:image/png;base64,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")
            binding.characterLayout.setOnClickListener {
                onCharacterClicked.onCharacterClicked(data.characterId)
            }
        }

    }
}